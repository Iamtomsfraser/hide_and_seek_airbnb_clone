
<div class="m-5 d-flex flex-wrap gap-5">
  <% @bookings.each do |booking| %>

    <div class="col-lg-3 col-md-6 mb-5 cards d-flex flex-column justify-content-between" data-controller="bookings">
      <%= link_to flat_path(booking.flat) do %>
        <%= image_tag booking.flat.photo_url, class: "card-img-top" %>
      <% end %>
      <div>
        <h3 class="mt-3"><%= booking.flat.name %></h3>
        <p><%= booking.start_date %></p>
        <p><%= booking.end_date %></p>
        <% if booking.accepted %>
          <p style="color:green;">Booking Approved</p>
        <% else %>
          <div class="d-flex justify-content-between align-items-center" style="width:100%; ">
            <form action="/bookings/<%=booking.id%>" method="patch" data-turbo-form>
              <input type="hidden" name="booking[accepted]" value="true">
              <input type="submit" value="Approve" class="btn btn-primary">
            </form>
            <p> or </p>
            <%= link_to "Delete", booking_path(booking), method: :delete, data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class:"btn btn-danger"%>
          </div>


        <% end %>
      </div>
  </div>
  <% end %>

</div>
